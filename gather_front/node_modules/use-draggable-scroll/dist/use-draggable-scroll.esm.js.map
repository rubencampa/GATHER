{"version":3,"file":"use-draggable-scroll.esm.js","sources":["../src/index.tsx"],"sourcesContent":["import { RefObject } from 'react';\n\nexport default function useDraggableScroll(\n  ref: RefObject<HTMLElement>,\n  options: {\n    direction?: 'vertical' | 'horizontal' | 'both';\n  } = { direction: 'both' }\n) {\n  if (process.env.NODE_ENV === 'development') {\n    if (typeof ref !== 'object' || typeof ref.current === 'undefined') {\n      console.error('`useDraggableScroll` expects a single ref argument.');\n    }\n  }\n\n  const { direction } = options;\n\n  // The initial position (scroll progress and mouse location) when the mouse is pressed down on the element\n  let initialPosition = { scrollTop: 0, scrollLeft: 0, mouseX: 0, mouseY: 0 };\n\n  const mouseMoveHandler = (event: { clientX: number; clientY: number }) => {\n    if (ref.current) {\n      // Calculate differences to see how far the user has moved\n      const dx = event.clientX - initialPosition.mouseX;\n      const dy = event.clientY - initialPosition.mouseY;\n\n      // Scroll the element according to those differences\n      if (direction !== 'horizontal')\n        ref.current.scrollTop = initialPosition.scrollTop - dy;\n      if (direction !== 'vertical')\n        ref.current.scrollLeft = initialPosition.scrollLeft - dx;\n    }\n  };\n\n  const mouseUpHandler = () => {\n    // Return to cursor: grab after the user is no longer pressing\n    if (ref.current) ref.current.style.cursor = 'grab';\n\n    // Remove the event listeners since it is not necessary to track the mouse position anymore\n    document.removeEventListener('mousemove', mouseMoveHandler);\n    document.removeEventListener('mouseup', mouseUpHandler);\n  };\n\n  const onMouseDown = (event: { clientX: number; clientY: number }) => {\n    if (ref.current) {\n      // Save the position at the moment the user presses down\n      initialPosition = {\n        scrollLeft: ref.current.scrollLeft,\n        scrollTop: ref.current.scrollTop,\n        mouseX: event.clientX,\n        mouseY: event.clientY,\n      };\n\n      // Show a cursor: grabbing style and set user-select: none to avoid highlighting text while dragging\n      ref.current.style.cursor = 'grabbing';\n      ref.current.style.userSelect = 'none';\n\n      // Add the event listeners that will track the mouse position for the rest of the interaction\n      document.addEventListener('mousemove', mouseMoveHandler);\n      document.addEventListener('mouseup', mouseUpHandler);\n    }\n  };\n\n  return { onMouseDown };\n}\n"],"names":["useDraggableScroll","ref","options","direction","process","env","NODE_ENV","current","console","error","initialPosition","scrollTop","scrollLeft","mouseX","mouseY","mouseMoveHandler","event","dx","clientX","dy","clientY","mouseUpHandler","style","cursor","document","removeEventListener","onMouseDown","userSelect","addEventListener"],"mappings":"SAEwBA,mBACtBC,KACAC;MAAAA;AAAAA,IAAAA,UAEI;AAAEC,MAAAA,SAAS,EAAE;AAAb;;;AAEJ,MAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AAC1C,QAAI,OAAOL,GAAP,KAAe,QAAf,IAA2B,OAAOA,GAAG,CAACM,OAAX,KAAuB,WAAtD,EAAmE;AACjEC,MAAAA,OAAO,CAACC,KAAR,CAAc,qDAAd;AACD;AACF;;AAED,iBAAsBP,OAAtB;AAAA,MAAQC,SAAR,YAAQA,SAAR;;AAGA,MAAIO,eAAe,GAAG;AAAEC,IAAAA,SAAS,EAAE,CAAb;AAAgBC,IAAAA,UAAU,EAAE,CAA5B;AAA+BC,IAAAA,MAAM,EAAE,CAAvC;AAA0CC,IAAAA,MAAM,EAAE;AAAlD,GAAtB;;AAEA,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD;AACvB,QAAIf,GAAG,CAACM,OAAR,EAAiB;AACf;AACA,UAAMU,EAAE,GAAGD,KAAK,CAACE,OAAN,GAAgBR,eAAe,CAACG,MAA3C;AACA,UAAMM,EAAE,GAAGH,KAAK,CAACI,OAAN,GAAgBV,eAAe,CAACI,MAA3C,CAHe;;AAMf,UAAIX,SAAS,KAAK,YAAlB,EACEF,GAAG,CAACM,OAAJ,CAAYI,SAAZ,GAAwBD,eAAe,CAACC,SAAhB,GAA4BQ,EAApD;AACF,UAAIhB,SAAS,KAAK,UAAlB,EACEF,GAAG,CAACM,OAAJ,CAAYK,UAAZ,GAAyBF,eAAe,CAACE,UAAhB,GAA6BK,EAAtD;AACH;AACF,GAZD;;AAcA,MAAMI,cAAc,GAAG,SAAjBA,cAAiB;AACrB;AACA,QAAIpB,GAAG,CAACM,OAAR,EAAiBN,GAAG,CAACM,OAAJ,CAAYe,KAAZ,CAAkBC,MAAlB,GAA2B,MAA3B;;AAGjBC,IAAAA,QAAQ,CAACC,mBAAT,CAA6B,WAA7B,EAA0CV,gBAA1C;AACAS,IAAAA,QAAQ,CAACC,mBAAT,CAA6B,SAA7B,EAAwCJ,cAAxC;AACD,GAPD;;AASA,MAAMK,WAAW,GAAG,SAAdA,WAAc,CAACV,KAAD;AAClB,QAAIf,GAAG,CAACM,OAAR,EAAiB;AACf;AACAG,MAAAA,eAAe,GAAG;AAChBE,QAAAA,UAAU,EAAEX,GAAG,CAACM,OAAJ,CAAYK,UADR;AAEhBD,QAAAA,SAAS,EAAEV,GAAG,CAACM,OAAJ,CAAYI,SAFP;AAGhBE,QAAAA,MAAM,EAAEG,KAAK,CAACE,OAHE;AAIhBJ,QAAAA,MAAM,EAAEE,KAAK,CAACI;AAJE,OAAlB,CAFe;;AAUfnB,MAAAA,GAAG,CAACM,OAAJ,CAAYe,KAAZ,CAAkBC,MAAlB,GAA2B,UAA3B;AACAtB,MAAAA,GAAG,CAACM,OAAJ,CAAYe,KAAZ,CAAkBK,UAAlB,GAA+B,MAA/B,CAXe;;AAcfH,MAAAA,QAAQ,CAACI,gBAAT,CAA0B,WAA1B,EAAuCb,gBAAvC;AACAS,MAAAA,QAAQ,CAACI,gBAAT,CAA0B,SAA1B,EAAqCP,cAArC;AACD;AACF,GAlBD;;AAoBA,SAAO;AAAEK,IAAAA,WAAW,EAAXA;AAAF,GAAP;AACD;;;;"}