{"ast":null,"code":"import Constantes from '../../utils/Constantes';\nimport axios from \"axios\";\nconst API_URL = Constantes.api_url; // const axiosInstance = axios.create({\n//     baseURL: `${API_URL}`,\n//     timeout: 5000,\n//     headers: {\n//         Authorization: localStorage.getItem('access_token')\n//             ? 'JWT ' + localStorage.getItem('access_token')\n//             : null,\n//         'Content-type': 'aplication/json',\n//         accept: 'application/json'\n//     }\n// })\n// export default axiosInstance\n\nexport async function registerUser(usuario) {\n  return await axios({\n    method: \"POST\",\n    url: `${API_URL}/usuario/register/`,\n    data: usuario\n  }).then(response => {\n    return response.data;\n  }).catch(function (error) {\n    if (error.reponse) {\n      return error.response;\n    }\n  });\n}\nexport async function login(usuario) {\n  return await axios({\n    method: \"POST\",\n    url: `${API_URL}/api/token/`,\n    data: usuario\n  }).then(response => {\n    localStorage.setItem('access_token', res.data.access);\n    localStorage.setItem('refresh_token', res.data.refresh);\n    axiosInstance.defaults.headers['Authorization'] = 'JWT ' + localStorage.getItem('access_token');\n    navigate('/home');\n    return response.data;\n  }).catch(function (error) {\n    if (error.reponse) {\n      return error.response;\n    }\n  });\n}","map":{"version":3,"sources":["C:/Users/W10AS31122021/Desktop/GATHER/gather_front/src/components/services/LoginService.jsx"],"names":["Constantes","axios","API_URL","api_url","registerUser","usuario","method","url","data","then","response","catch","error","reponse","login","localStorage","setItem","res","access","refresh","axiosInstance","defaults","headers","getItem","navigate"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,wBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAGF,UAAU,CAACG,OAA3B,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAGA,OAAO,eAAeC,YAAf,CAA4BC,OAA5B,EAAqC;AACxC,SAAO,MAAMJ,KAAK,CAAC;AACjBK,IAAAA,MAAM,EAAE,MADS;AAEjBC,IAAAA,GAAG,EAAG,GAAEL,OAAQ,oBAFC;AAGjBM,IAAAA,IAAI,EAACH;AAHY,GAAD,CAAL,CAKVI,IALU,CAKJC,QAAD,IAAc;AAChB,WAAOA,QAAQ,CAACF,IAAhB;AAAqB,GANd,EAOVG,KAPU,CAOJ,UAAUC,KAAV,EAAiB;AACtB,QAAIA,KAAK,CAACC,OAAV,EAAmB;AACjB,aAAOD,KAAK,CAACF,QAAb;AACD;AACF,GAXU,CAAb;AAYH;AAED,OAAO,eAAeI,KAAf,CAAqBT,OAArB,EAA6B;AAChC,SAAO,MAAMJ,KAAK,CAAC;AACfK,IAAAA,MAAM,EAAE,MADO;AAEfC,IAAAA,GAAG,EAAG,GAAEL,OAAQ,aAFD;AAGfM,IAAAA,IAAI,EAACH;AAHU,GAAD,CAAL,CAKRI,IALQ,CAKFC,QAAD,IAAc;AAChBK,IAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqCC,GAAG,CAACT,IAAJ,CAASU,MAA9C;AACTH,IAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCC,GAAG,CAACT,IAAJ,CAASW,OAA/C;AACAC,IAAAA,aAAa,CAACC,QAAd,CAAuBC,OAAvB,CAA+B,eAA/B,IACE,SAASP,YAAY,CAACQ,OAAb,CAAqB,cAArB,CADX;AAEAC,IAAAA,QAAQ,CAAC,OAAD,CAAR;AACS,WAAOd,QAAQ,CAACF,IAAhB;AAAqB,GAXhB,EAYRG,KAZQ,CAYF,UAAUC,KAAV,EAAiB;AACtB,QAAIA,KAAK,CAACC,OAAV,EAAmB;AACjB,aAAOD,KAAK,CAACF,QAAb;AACD;AACF,GAhBQ,CAAb;AAiBH","sourcesContent":["import Constantes from '../../utils/Constantes'\r\nimport axios from \"axios\";\r\n\r\nconst API_URL = Constantes.api_url; \r\n\r\n// const axiosInstance = axios.create({\r\n//     baseURL: `${API_URL}`,\r\n//     timeout: 5000,\r\n//     headers: {\r\n//         Authorization: localStorage.getItem('access_token')\r\n//             ? 'JWT ' + localStorage.getItem('access_token')\r\n//             : null,\r\n//         'Content-type': 'aplication/json',\r\n//         accept: 'application/json'\r\n//     }\r\n// })\r\n\r\n// export default axiosInstance\r\n\r\n\r\nexport async function registerUser(usuario) {\r\n    return await axios({\r\n      method: \"POST\",\r\n      url: `${API_URL}/usuario/register/`,\r\n      data:usuario\r\n    })\r\n      .then((response) => {\r\n          return response.data})\r\n      .catch(function (error) {\r\n        if (error.reponse) {\r\n          return error.response;\r\n        }\r\n      });\r\n}\r\n\r\nexport async function login(usuario){\r\n    return await axios({\r\n        method: \"POST\",\r\n        url: `${API_URL}/api/token/`,\r\n        data:usuario\r\n      })\r\n        .then((response) => {\r\n            localStorage.setItem('access_token', res.data.access);\r\n\t\t\tlocalStorage.setItem('refresh_token', res.data.refresh);\r\n\t\t\taxiosInstance.defaults.headers['Authorization'] =\r\n\t\t\t\t\t'JWT ' + localStorage.getItem('access_token');\r\n\t\t\tnavigate('/home');\r\n            return response.data})\r\n        .catch(function (error) {\r\n          if (error.reponse) {\r\n            return error.response;\r\n          }\r\n        });\r\n} "]},"metadata":{},"sourceType":"module"}